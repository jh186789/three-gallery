(self.webpackChunkthree_gallery=self.webpackChunkthree_gallery||[]).push([[678],{4817:function(e,n,t){"use strict";t.d(n,{K:function(){return u}});var i=t(2212),o=t(105),r=t(3466),a=t.n(r),c=t(3555);function u(e,n,t,r,u,d,l,p,s){var m=window.innerWidth,v=window.innerHeight,f=window.devicePixelRatio,w=200;return{initScene:function(){return e=new i.Scene},initCamera:function(){var t=m/v;return(n=new i.OrthographicCamera(-w*t,w*t,w,-w,1,1e3)).position.set(200,200,200),n.lookAt(e.position),n},initRenderer:function(e){return(t=new i.WebGLRenderer).setPixelRatio(f),t.setSize(m,v),t.setClearColor(12178431),e.appendChild(t.domElement),t},initLight:function(){(r=new i.DirectionalLight(16777215)).position.set(400,200,300),e.add(r),u=new i.AmbientLight(4473924),e.add(u)},initControls:function(){return(p=new o.Z(n,t.domElement)).draggingDampingFactor=1,p},initClock:function(){return new i.Clock},initHelpers:function(){d=new i.AxesHelper(250),e.add(d)},initStats:function(e){return(l=new(a())).showPanel(0),l.dom.style.position="absolute",l.dom.style.left="0px",l.dom.style.top="0px",e&&e.appendChild(l.dom),l},windowResize:(0,c.vA)((function(){var e=window.innerWidth,i=window.innerHeight,o=e/i;n.left=-w*o,n.right=w*o,n.top=w,n.bottom=-w,n.updateProjectionMatrix(),t.setSize(e,i)}),100)}}o.Z.install({THREE:i})},7194:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var i=t(5393),o={id:"three",ref:"three"};var r,a,c,u,d,l,p,s,m,v,f=t(2212),w=t(4817),g=new f.Clock,h=(0,i.defineComponent)({name:"gallery10",setup:function(){var e=(0,i.ref)(document.createElement("div")),n=(0,w.K)(r,a,c,undefined,undefined,undefined,u,d,l),t=n.initScene,o=n.initCamera,h=n.initRenderer,x=n.initLight,C=n.initHelpers,y=n.initStats,S=n.windowResize,T=n.initControls,k=n.initClock;function R(){var e=g.getDelta();r&&c.render(r,a),u&&u.update(),d&&d.update(l.getDelta()),p=requestAnimationFrame(R),s.time.value+=e,v.rotation.y-=.005,m&&m.update(e)}function A(e){var n,i,p;r=t(),a=o(),(c=h(e)).setClearColor(0),u=y(e),d=T(),l=k(),x(),C(),function(){var e="https://cache-1256738511.cos.ap-chengdu.myqcloud.com/images/sun/",n=new f.TextureLoader,t=new f.SphereGeometry(100,100,100),i=n.load("".concat(e,"noise.png")),o=n.load("".concat(e,"atmosphere.jpg"));i.wrapS=f.RepeatWrapping,i.wrapT=f.RepeatWrapping,o.wrapS=f.RepeatWrapping,o.wrapT=f.RepeatWrapping,s={time:{value:1},texture1:{value:i},texture2:{value:o}};var a=new f.ShaderMaterial({uniforms:s,vertexShader:"varying vec2 texCoord;void main(){texCoord = uv;vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );gl_Position = projectionMatrix * mvPosition;}",fragmentShader:"uniform float time;uniform sampler2D texture1;uniform sampler2D texture2;varying vec2 texCoord;uniform float opacity;void main(  ) {vec4 noise = texture2D( texture1, texCoord );vec2 T1 = texCoord + vec2( 1.5, -1.5 ) * time  * 0.01;vec2 T2 = texCoord + vec2( -0.5, 2.0 ) * time *  0.01;T1.x -= noise.r * 2.0;T1.y += noise.g * 4.0;T2.x += noise.g * 0.2;T2.y += noise.b * 0.2;float p = texture2D( texture1, T1 * 2.0 ).a + 0.25;vec4 color = texture2D( texture2, T2 );vec4 temp = color * 2.0 * ( vec4( p, p, p, p ) ) + ( color * color );  gl_FragColor = vec4(temp.rgb,temp.a*opacity);}"});v=new f.Mesh(t,a),r.add(v)}(),n=new f.KeyframeTrack(".scale",[0,5],[.01,.01,.01,1,1,1]),i=new f.AnimationClip("default",5,[n]),(p=(m=new f.AnimationMixer(v)).clipAction(i,v)).loop=f.LoopOnce,p.clampWhenFinished=!0,p.play(),R()}return(0,i.onMounted)((function(){A(e.value),window.addEventListener("resize",S)})),(0,i.onBeforeUnmount)((function(){cancelAnimationFrame(p),d&&d.dispose(),window.removeEventListener("resize",S)})),{three:e}}});h.render=function(e,n,t,r,a,c){return(0,i.openBlock)(),(0,i.createBlock)("div",o,null,512)};var x=h}}]);